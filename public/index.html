<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Japanese Reflex Trainer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: "Inter", "Segoe UI", Arial, sans-serif;
      background: #f5f7fb;
      color: #1f2a44;
      padding: 24px;
    }

    .page {
      max-width: 980px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    .hero {
      text-align: left;
      padding: 24px 28px;
      background: linear-gradient(135deg, #ffffff, #eef3ff);
      border-radius: 20px;
      box-shadow: 0 12px 30px rgba(30, 45, 90, 0.08);
    }

    .hero h1 {
      margin: 0 0 8px;
      font-size: 32px;
    }

    .hero p {
      margin: 0;
      color: #5b6785;
    }

    .panel {
      display: flex;
      flex-direction: column;
      gap: 20px;
      background: #ffffff;
      border-radius: 20px;
      padding: 24px;
      box-shadow: 0 10px 24px rgba(31, 42, 68, 0.08);
    }

    .config-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 16px;
    }

    .card {
      border: 1px solid #e5e9f4;
      border-radius: 16px;
      padding: 16px;
      background: #fbfcff;
    }

    fieldset {
      border: none;
      padding: 0;
      text-align: left;
    }

    fieldset legend {
      font-weight: 600;
      margin-bottom: 8px;
    }

    label {
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 8px 0;
      font-size: 15px;
    }

    input[type="number"] {
      font-size: 16px;
      padding: 8px 10px;
      width: 90px;
      border-radius: 10px;
      border: 1px solid #d6dceb;
    }

    input[type="checkbox"] {
      width: 16px;
      height: 16px;
    }

    button {
      padding: 12px 18px;
      font-size: 16px;
      border-radius: 12px;
      border: none;
      background: #2f6fed;
      color: #fff;
      font-weight: 600;
      box-shadow: 0 8px 16px rgba(47, 111, 237, 0.25);
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease;
    }

    button:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 18px rgba(47, 111, 237, 0.3);
    }

    button.secondary {
      background: #eef2ff;
      color: #2f3b59;
      box-shadow: none;
      border: 1px solid #d7def0;
    }

    .actions {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .practice {
      text-align: center;
      padding: 16px;
      border-radius: 16px;
      background: #f4f7ff;
      border: 1px dashed #d6dff2;
    }

    #kana {
      font-size: 96px;
      margin: 10px 0;
    }

    #result {
      font-size: 18px;
      min-height: 26px;
      margin-bottom: 10px;
      color: #2f3b59;
    }

    .hint {
      font-size: 13px;
      color: #6b768f;
      margin-top: 6px;
    }

    /* ===== MIC TEST ===== */
    #mic-test {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    /* ===== CONTROLS BOTTOM (K·∫æT QU·∫¢) ===== */
    .controls-bottom {
      display: none;
      gap: 12px;
      flex-wrap: wrap;
    }

    .controls-bottom button {
      width: auto;
    }

    /* ===== MOBILE ===== */
    @media (max-width: 768px) {
      #kana {
        font-size: 32vw;       /* c·ª±c to */
        margin: 6vh 0;
      }

      button {
        font-size: 18px;
      }

      .actions {
        flex-direction: column;
      }
    }
  </style>
</head>

<body>
  <div class="page">
    <header class="hero">
      <h1>ÂèçÂ∞ÑÊó•Êú¨Ë™û„Éà„É¨„Éº„Éã„É≥„Ç∞</h1>
      <p>R√®n ph·∫£n x·∫° Kana nhanh, g·ªçn, chuy√™n nghi·ªáp ngay tr√™n tr√¨nh duy·ªát.</p>
    </header>

    <section class="panel">
      <div class="config-grid">
        <div class="card">
          <fieldset>
            <legend>B·∫£ng ch·ªØ</legend>
            <label><input type="checkbox" id="hiragana" checked> Hiragana</label>
            <label><input type="checkbox" id="katakana"> Katakana</label>
            <label><input type="checkbox" id="combo"> Ch·ªØ gh√©p</label>
          </fieldset>
        </div>

        <div class="card">
          <label>
            Hi·ªÉn th·ªã (s):
            <input type="number" id="showTime" value="1" min="0.3" step="0.1">
          </label>

          <label>
            N√≥i (s):
            <input type="number" id="speakTime" value="3" min="1" max="6">
          </label>

          <label>
            <input type="checkbox" id="enableMic" checked>
            D√πng micro (t√πy ch·ªçn)
          </label>
          <div class="hint">N·∫øu kh√¥ng b·∫≠t micro, b√†i luy·ªán v·∫´n ch·∫°y b√¨nh th∆∞·ªùng.</div>
        </div>

        <div class="card" id="mic-test">
          <strong>üé§ Ki·ªÉm tra mic</strong>
          <button class="secondary" onclick="startMicTest()">N√≥i</button>
          <button class="secondary" onclick="playMicTest()">Nghe l·∫°i</button>
        </div>
      </div>

      <div class="actions">
        <button onclick="start()">‚ñ∂ B·∫ÆT ƒê·∫¶U</button>
        <button class="secondary" onclick="resetSession()">üîÑ Reset session</button>
      </div>

      <div class="practice">
        <div id="kana">‚Äî</div>
        <div id="result"></div>
        <div id="controls" class="controls-bottom">
          <button onclick="playUserVoice()">üîä Nghe gi·ªçng t√¥i</button>
          <button class="secondary" onclick="playCorrect()">üì¢ Ph√°t √¢m ƒë√∫ng</button>
          <button onclick="start()">‚ñ∂ Ti·∫øp</button>
        </div>
      </div>
    </section>
  </div>

  <script src="app.js"></script>
</body>
</html>
