<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Japanese Reflex Trainer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 16px;
    }

    h1 {
      margin: 10px 0 5px;
    }

    #kana {
      font-size: 96px;
      margin: 24px 0;
    }

    #result {
      font-size: 18px;
      min-height: 26px;
      margin-bottom: 10px;
    }

    fieldset {
      display: inline-block;
      text-align: left;
      padding: 10px 16px;
      margin-bottom: 10px;
    }

    label {
      display: block;
      margin: 6px 0;
    }

    input {
      font-size: 16px;
      padding: 4px;
      width: 70px;
      text-align: center;
    }

    button {
      padding: 10px 14px;
      font-size: 16px;
      margin: 5px;
      cursor: pointer;
    }

    /* ===== MIC TEST ===== */
    #mic-test {
      position: fixed;
      top: 10px;
      left: 10px;
      border: 1px solid #ccc;
      padding: 8px;
      font-size: 13px;
      background: #fff;
      z-index: 1000;
    }

    /* ===== CONTROLS BOTTOM (K·∫æT QU·∫¢) ===== */
    .controls-bottom {
      display: none;
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: #ffffff;
      border-top: 1px solid #ddd;
      padding: 10px;
      z-index: 999;
    }

    .controls-bottom button {
      width: 100%;
      padding: 14px;
      font-size: 18px;
      margin: 6px 0;
    }

    /* ch·ª´a ch·ªó cho controls */
    body {
      padding-bottom: 200px;
    }

    /* ===== MOBILE ===== */
    @media (max-width: 768px) {
      #kana {
        font-size: 32vw;       /* c·ª±c to */
        margin: 10vh 0;
      }

      button {
        font-size: 18px;
      }

      fieldset {
        width: 100%;
      }
    }

    /* ===== DESKTOP ===== */
    @media (min-width: 769px) {
      .controls-bottom {
        position: static;
        border-top: none;
        padding: 0;
      }

      .controls-bottom button {
        width: auto;
        margin: 5px;
      }

      body {
        padding-bottom: 0;
      }
    }
  </style>
</head>

<body>

  <!-- MIC TEST -->
  <div id="mic-test">
    <strong>üé§ Mic</strong><br>
    <button onclick="startMicTest()">N√≥i</button>
    <button onclick="playMicTest()">Nghe</button>
  </div>

  <h1>ÂèçÂ∞ÑÊó•Êú¨Ë™û„Éà„É¨„Éº„Éã„É≥„Ç∞</h1>

  <!-- SETUP -->
  <fieldset>
    <legend>B·∫£ng ch·ªØ</legend>
    <label><input type="checkbox" id="hiragana" checked> Hiragana</label>
    <label><input type="checkbox" id="katakana"> Katakana</label>
    <label><input type="checkbox" id="combo"> Ch·ªØ gh√©p</label>
  </fieldset>

  <br>

  <label>
    Hi·ªÉn th·ªã (s):
    <input type="number" id="showTime" value="1" min="0.3" step="0.1">
  </label>

  <label>
    N√≥i (s):
    <input type="number" id="speakTime" value="3" min="1" max="6">
  </label>

  <br>

  <button onclick="start()">‚ñ∂ B·∫ÆT ƒê·∫¶U</button>
  <button onclick="resetSession()">üîÑ Reset session</button>

  <hr>

  <!-- MAIN -->
  <div id="kana">‚Äî</div>
  <div id="result"></div>

  <!-- CONTROLS (BOTTOM) -->
  <div id="controls" class="controls-bottom">
    <button onclick="playUserVoice()">üîä Nghe gi·ªçng t√¥i</button>
    <button onclick="playCorrect()">üì¢ Ph√°t √¢m ƒë√∫ng</button>
    <button onclick="start()">‚ñ∂ Ti·∫øp</button>
  </div>

  <script src="app.js"></script>
</body>
</html>
